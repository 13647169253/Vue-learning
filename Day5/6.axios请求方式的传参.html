<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>vue html demo</title>
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
  <script src="./axios.js"></script>
</head>
<body>
  <div id="app">
  </div>
  <script>
    /* 
      axios 是第三方的js库,用来实现接口调用
    */
    // get 中可以使用 URL的方式进行传参(/axios?id=123),(/axios/123)Restful,也可使用params选项进行传参.
    //  delete 的请求方式与get　基本一致 ; 相对后端使用 req.query  获取
    axios.get('http://localhost:3000/axios', {
      params: {
        id: 123,
      }
    }).then((ret) => {
      // 注意data属性是固定的用法，用于获取后台的实际数据
      console.log(ret)
      console.log(ret.data)
    })
    // post以json形式发送;  对应的后端获取数据的方式以body接收
    // axios.post('http://localhost:3000/axios', {
    //   uname: 'ls',
    //   pwd: 123
    // }).then((ret) => {
    //   console.log(ret.data)
    // })
    /*  
    也可以使用表单的形式进行传递, URLSearchParams (api) 传递参数 (application/x-www-form-urlencoded).
    const params = new URLSearchParams();
    params.addend('params1' , 'value1')
    params.addend('params2' , 'value2')
    ... 
    axios.post('http://localhost:3000/axios', params).then((ret) => {
      console.log(ret.data)
    })
    */
    let params = new URLSearchParams();
    params.append('uanme', 'ls')
    params.append('pwd', '123')
    axios.post('http://localhost:3000/axios', params).then((ret) => {
      console.log(ret.data)
    })

    // put方法与post方法相似; 在url上写上对应的ID,然后在
    axios.put('http://localhost:3000/axios/123', {
      uname: 'ls',
      pwd: 456
    }).then((ret) => {
      console.log(ret);
      console.log(ret.data);
    })
  </script>
</body>
</html>